(system restart
	(change "sudo" "shutdown" "-r" "now")
)

(system halt
	(change "sudo" "shutdown" "-h" "now")
)

(system update
    (and
		(is debian)
        (change "sudo" "apt-get" "update")
        (change "sudo" "apt-get" "--yes" "upgrade")
        (change "sudo" "apt-get" "--yes" "dist-upgrade")
		(change "sudo" "apt-get" "--yes" "autoremove")
	)
)

(is debian
	(or
		(pipe
			(test "uname" "-v")
			(test "grep" "Debian")
		)
		(pipe
			(test "uname" "-v")
			(test "grep" "Ubuntu")
		)
	)	
)

(is fedora
	(pipe
		(test "uname" "-v")
		(test "grep" "Fedora")
	)
)